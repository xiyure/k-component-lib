<template>
  <div
    ref="logoAnimation"
    class="fixed z-50 flex h-screen w-screen items-center justify-center bg-white"
  >
    <svg
      ref="svgElement"
      class="invisible size-96 overflow-visible"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      x="0px"
      y="0px"
      viewBox="0 0 3518 660"
      style="enable-background: new 0 0 3518 660"
      xml:space="preserve"
    >
      <g ref="logo">
        <g ref="upperLeftCorner" id="upperLeftCorner">
          <g>
            <g>
              <defs>
                <path
                  id="SVGID_1_"
                  d="M0,264.786V34.67C0,15.575,15.574,0,34.669,0h230.117c14.321,0,26.55,8.171,32.03,21.402
                s2.612,27.656-7.515,37.783L59.185,289.302c-10.127,10.127-24.552,12.996-37.783,7.515C8.17,291.336,0,279.108,0,264.786"
                />
              </defs>
              <clipPath id="SVGID_2_">
                <use xlink:href="#SVGID_1_" style="overflow: visible" />
              </clipPath>

              <linearGradient
                id="SVGID_3_"
                gradientUnits="userSpaceOnUse"
                x1="-70.7354"
                y1="-1607.2977"
                x2="256.914"
                y2="-1039.8085"
                gradientTransform="matrix(1 0 0 -1 0 -1071.8459)"
              >
                <stop offset="0" style="stop-color: #0049e6" />
                <stop offset="0.53" style="stop-color: #9c15f7" />
                <stop offset="1" style="stop-color: #ff4cf8" />
              </linearGradient>
              <rect
                x="0"
                style="clip-path: url(#SVGID_2_); fill: url(#SVGID_3_)"
                width="302.297"
                height="302.297"
              />
            </g>
          </g>
          <defs>
            <filter
              id="Adobe_OpacityMaskFilter"
              filterUnits="userSpaceOnUse"
              x="0"
              y="92.848"
              width="182.047"
              height="206.707"
            >
              <feColorMatrix type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0" />
            </filter>
          </defs>
          <mask
            maskUnits="userSpaceOnUse"
            x="0"
            y="92.848"
            width="182.047"
            height="206.707"
            id="SVGID_18_"
          >
            <g style="filter: url(#Adobe_OpacityMaskFilter)">
              <linearGradient
                id="SVGID_5_"
                gradientUnits="userSpaceOnUse"
                x1="-13824.5352"
                y1="-8901.6826"
                x2="-13389.3252"
                y2="-8158.8428"
                gradientTransform="matrix(1 0 0 -1 13513.498 -8019.2227)"
              >
                <stop offset="0" style="stop-color: #ffffff" />
                <stop offset="1" style="stop-color: #000000" />
              </linearGradient>
              <rect
                x="0"
                y="92.848"
                style="fill: url(#SVGID_5_)"
                width="182.047"
                height="206.707"
              />
            </g>
          </mask>
          <path
            style="mask: url(#SVGID_18_); fill-rule: evenodd; clip-rule: evenodd; fill: #330066"
            d="M0,264.786V92.848
          c0,0,7.132,66.533,31.547,95.831c24.415,29.299,100.793,12.897,150.5-22.24L59.185,289.302
          c-10.127,10.127-24.552,12.996-37.783,7.515C8.17,291.336,0,279.108,0,264.786"
          />
          <defs>
            <filter
              id="Adobe_OpacityMaskFilter_1_"
              filterUnits="userSpaceOnUse"
              x="3.949"
              y="0"
              width="295.605"
              height="109.393"
            >
              <feColorMatrix type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0" />
            </filter>
          </defs>
          <mask
            maskUnits="userSpaceOnUse"
            x="3.949"
            y="0"
            width="295.605"
            height="109.393"
            id="SVGID_17_"
          >
            <g style="filter: url(#Adobe_OpacityMaskFilter_1_)">
              <linearGradient
                id="SVGID_7_"
                gradientUnits="userSpaceOnUse"
                x1="-13217.0771"
                y1="-8041.1621"
                x2="-13402.6367"
                y2="-8319.4912"
                gradientTransform="matrix(1 0 0 -1 13517.4473 -8209.3848)"
              >
                <stop offset="0" style="stop-color: #ffffff" />
                <stop offset="1" style="stop-color: #000000" />
              </linearGradient>
              <rect x="3.949" style="fill: url(#SVGID_7_)" width="295.605" height="109.393" />
            </g>
          </mask>
          <path
            style="mask: url(#SVGID_17_); fill-rule: evenodd; clip-rule: evenodd; fill: #ff98ff"
            d="M3.949,18.632
          C9.754,7.573,21.354,0,34.669,0h230.117c14.321,0,26.55,8.171,32.03,21.402s2.612,27.656-7.515,37.783l-50.208,50.208
          C180.463,10.508,4.065,18.626,3.949,18.632"
          />
        </g>
        <g ref="bottomRightCorner" id="bottomRightCorner">
          <g>
            <g>
              <defs>
                <path
                  id="SVGID_8_"
                  d="M317.225,659.073H34.669C15.574,659.073,0,643.498,0,624.403V490.118c0-9.548,3.403-17.764,10.154-24.516
                l129.981-129.98c7.876-7.877,17.996-11.312,29.04-9.858s19.93,7.392,25.499,17.038l152.574,264.265
                c6.365,11.024,6.365,23.646,0.001,34.67C340.884,652.762,329.955,659.073,317.225,659.073"
                />
              </defs>
              <clipPath id="SVGID_9_">
                <use xlink:href="#SVGID_8_" style="overflow: visible" />
              </clipPath>

              <linearGradient
                id="SVGID_10_"
                gradientUnits="userSpaceOnUse"
                x1="302.7298"
                y1="-1314.0211"
                x2="80.6296"
                y2="-1754.1132"
                gradientTransform="matrix(1 0 0 -1 0 -1071.8459)"
              >
                <stop offset="0" style="stop-color: #0077bf" />
                <stop offset="0.44" style="stop-color: #1a84f7" />
                <stop offset="1" style="stop-color: #5ef9f6" />
              </linearGradient>
              <rect
                x="0"
                y="324.31"
                style="clip-path: url(#SVGID_9_); fill: url(#SVGID_10_)"
                width="353.614"
                height="334.763"
              />
            </g>
          </g>
          <defs>
            <filter
              id="Adobe_OpacityMaskFilter_2_"
              filterUnits="userSpaceOnUse"
              x="0"
              y="474.905"
              width="327.999"
              height="184.168"
            >
              <feColorMatrix type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0" />
            </filter>
          </defs>
          <mask
            maskUnits="userSpaceOnUse"
            x="0"
            y="474.905"
            width="327.999"
            height="184.168"
            id="SVGID_16_"
          >
            <g style="filter: url(#Adobe_OpacityMaskFilter_2_)">
              <linearGradient
                id="SVGID_12_"
                gradientUnits="userSpaceOnUse"
                x1="-13417.9268"
                y1="-8444.5244"
                x2="-13331.2568"
                y2="-8168.624"
                gradientTransform="matrix(1 0 0 -1 13513.498 -7659.7051)"
              >
                <stop offset="0" style="stop-color: #ffffff" />
                <stop offset="1" style="stop-color: #000000" />
              </linearGradient>
              <rect
                x="0"
                y="474.905"
                style="fill: url(#SVGID_12_)"
                width="327.999"
                height="184.168"
              />
            </g>
          </mask>
          <path
            style="mask: url(#SVGID_16_); fill-rule: evenodd; clip-rule: evenodd; fill: #98ffff"
            d="M317.225,659.073H34.669
          C15.574,659.073,0,643.498,0,624.403V490.118c0-5.526,1.14-10.605,3.408-15.213c0,0,28.188,180.924,324.591,182.546
          C324.613,658.519,320.998,659.073,317.225,659.073"
          />
          <defs>
            <filter
              id="Adobe_OpacityMaskFilter_3_"
              filterUnits="userSpaceOnUse"
              x="43.643"
              y="325.438"
              width="231.114"
              height="156.069"
            >
              <feColorMatrix type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0" />
            </filter>
          </defs>
          <mask
            maskUnits="userSpaceOnUse"
            x="43.643"
            y="325.438"
            width="231.114"
            height="156.069"
            id="SVGID_15_"
          >
            <g style="filter: url(#Adobe_OpacityMaskFilter_3_)">
              <linearGradient
                id="SVGID_19_"
                gradientUnits="userSpaceOnUse"
                x1="-13320.8779"
                y1="-7774.2197"
                x2="-13411.2178"
                y2="-8321.1201"
                gradientTransform="matrix(1 0 0 -1 13557.1406 -7837.2705)"
              >
                <stop offset="0" style="stop-color: #ffffff" />
                <stop offset="1" style="stop-color: #000000" />
              </linearGradient>
              <rect
                x="43.643"
                y="325.438"
                style="fill: url(#SVGID_19_)"
                width="231.114"
                height="156.069"
              />
            </g>
          </mask>
          <path
            style="mask: url(#SVGID_15_); fill-rule: evenodd; clip-rule: evenodd; fill: #0131b8"
            d="M43.643,432.115l96.493-96.493
          c7.876-7.877,17.996-11.312,29.04-9.858c11.044,1.454,19.93,7.392,25.499,17.038l80.082,138.705
          C180.424,370.259,43.643,432.115,43.643,432.115L43.643,432.115z"
          />
          <defs>
            <filter
              id="Adobe_OpacityMaskFilter_4_"
              filterUnits="userSpaceOnUse"
              x="75.146"
              y="325.438"
              width="272.103"
              height="281.629"
            >
              <feColorMatrix type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0" />
            </filter>
          </defs>
          <mask
            maskUnits="userSpaceOnUse"
            x="75.146"
            y="325.438"
            width="272.103"
            height="281.629"
            id="SVGID_14_"
          >
            <g style="filter: url(#Adobe_OpacityMaskFilter_4_)">
              <linearGradient
                id="SVGID_20_"
                gradientUnits="userSpaceOnUse"
                x1="-13083.6797"
                y1="-7475.9502"
                x2="-13415.7295"
                y2="-8269.4502"
                gradientTransform="matrix(1 0 0 -1 13588.6436 -7711.7104)"
              >
                <stop offset="0" style="stop-color: #ffffff" />
                <stop offset="1" style="stop-color: #000000" />
              </linearGradient>
              <rect
                x="75.146"
                y="325.438"
                style="fill: url(#SVGID_20_)"
                width="272.104"
                height="281.629"
              />
            </g>
          </mask>
          <path
            style="mask: url(#SVGID_14_); fill-rule: evenodd; clip-rule: evenodd; fill: #0131b8"
            d="M75.146,400.612l64.99-64.99
          c7.876-7.877,17.996-11.312,29.04-9.858c11.044,1.454,19.93,7.392,25.499,17.038l152.574,264.265
          c-42.29-61.377-158.527-201.699-193.93-214.518C117.916,379.732,75.146,400.612,75.146,400.612"
          />
        </g>
        <g ref="rightSide" id="rightSide">
          <g>
            <g>
              <defs>
                <path
                  id="SVGID_21_"
                  d="M624.402,659.073H501.207c-12.732,0-23.66-6.311-30.025-17.336L251.266,260.832
                c-7.957-13.781-5.742-30.598,5.51-41.85L465.602,10.155C472.353,3.403,480.569,0,490.117,0h134.285
                c19.096,0,34.67,15.575,34.67,34.67v589.733C659.072,643.498,643.498,659.073,624.402,659.073"
                />
              </defs>
              <clipPath id="SVGID_22_">
                <use xlink:href="#SVGID_21_" style="overflow: visible" />
              </clipPath>

              <linearGradient
                id="SVGID_23_"
                gradientUnits="userSpaceOnUse"
                x1="305.0315"
                y1="-1654.5393"
                x2="618.7512"
                y2="-1111.1584"
                gradientTransform="matrix(1 0 0 -1 0 -1071.8459)"
              >
                <stop offset="0" style="stop-color: #ff057e" />
                <stop offset="1" style="stop-color: #ffcb00" />
              </linearGradient>
              <rect
                x="243.309"
                style="clip-path: url(#SVGID_22_); fill: url(#SVGID_23_)"
                width="415.764"
                height="659.073"
              />
            </g>
          </g>
          <defs>
            <filter
              id="Adobe_OpacityMaskFilter_5_"
              filterUnits="userSpaceOnUse"
              x="342.884"
              y="0"
              width="316.188"
              height="132.872"
            >
              <feColorMatrix type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0" />
            </filter>
          </defs>
          <mask
            maskUnits="userSpaceOnUse"
            x="342.884"
            y="0"
            width="316.188"
            height="132.872"
            id="SVGID_13_"
          >
            <g style="filter: url(#Adobe_OpacityMaskFilter_5_)">
              <linearGradient
                id="SVGID_24_"
                gradientUnits="userSpaceOnUse"
                x1="-13331.4561"
                y1="-7976.0815"
                x2="-13365.6367"
                y2="-8370.3906"
                gradientTransform="matrix(1 0 0 -1 13856.3828 -8185.9053)"
              >
                <stop offset="0" style="stop-color: #ffffff" />
                <stop offset="1" style="stop-color: #000000" />
              </linearGradient>
              <rect
                x="342.885"
                y="0.001"
                style="fill: url(#SVGID_24_)"
                width="316.188"
                height="132.872"
              />
            </g>
          </mask>
          <path
            style="mask: url(#SVGID_13_); fill-rule: evenodd; clip-rule: evenodd; fill: #fdf063"
            d="M342.885,132.872L465.602,10.155
          C472.353,3.403,480.569,0,490.117,0h134.285c19.096,0,34.67,15.575,34.67,34.67v46.615
          c-154.617-65.527-316.188,51.587-316.188,51.587v0H342.885z"
          />
          <defs>
            <filter
              id="Adobe_OpacityMaskFilter_6_"
              filterUnits="userSpaceOnUse"
              x="490.117"
              y="0"
              width="168.955"
              height="376.683"
            >
              <feColorMatrix type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0" />
            </filter>
          </defs>
          <mask
            maskUnits="userSpaceOnUse"
            x="490.117"
            y="0"
            width="168.955"
            height="376.683"
            id="SVGID_6_"
          >
            <g style="filter: url(#Adobe_OpacityMaskFilter_6_)">
              <linearGradient
                id="SVGID_25_"
                gradientUnits="userSpaceOnUse"
                x1="-13181.2607"
                y1="-7734.209"
                x2="-13519.4219"
                y2="-8275.0088"
                gradientTransform="matrix(1 0 0 -1 14003.6152 -7942.0952)"
              >
                <stop offset="0" style="stop-color: #ffffff" />
                <stop offset="1" style="stop-color: #000000" />
              </linearGradient>
              <rect x="490.117" style="fill: url(#SVGID_25_)" width="168.955" height="376.683" />
            </g>
          </mask>
          <path
            style="mask: url(#SVGID_6_); fill-rule: evenodd; clip-rule: evenodd; fill: #fdf063"
            d="M490.117,0h134.285
          c19.096,0,34.67,15.575,34.67,34.67v342.013C622.802,110.554,490.117,0,490.117,0"
          />
          <defs>
            <filter
              id="Adobe_OpacityMaskFilter_7_"
              filterUnits="userSpaceOnUse"
              x="246.528"
              y="170.107"
              width="368.243"
              height="488.966"
            >
              <feColorMatrix type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0" />
            </filter>
          </defs>
          <mask
            maskUnits="userSpaceOnUse"
            x="246.528"
            y="170.107"
            width="368.243"
            height="488.966"
            id="SVGID_11_"
          >
            <g style="filter: url(#Adobe_OpacityMaskFilter_7_)">
              <linearGradient
                id="SVGID_26_"
                gradientUnits="userSpaceOnUse"
                x1="-13698.4443"
                y1="-8747.2969"
                x2="-13200.3643"
                y2="-7839.0376"
                gradientTransform="matrix(1 0 0 -1 13760.0254 -7659.7051)"
              >
                <stop offset="0" style="stop-color: #ffffff" />
                <stop offset="1" style="stop-color: #000000" />
              </linearGradient>
              <rect
                x="246.527"
                y="170.107"
                style="fill: url(#SVGID_26_)"
                width="368.243"
                height="488.966"
              />
            </g>
          </mask>
          <path
            style="mask: url(#SVGID_11_); fill-rule: evenodd; clip-rule: evenodd; fill: #cb0680"
            d="M614.771,659.073H501.207
          c-12.732,0-23.66-6.311-30.025-17.336L251.266,260.832c-7.957-13.781-5.742-30.598,5.51-41.85l48.874-48.874l0.001-0.001
          C305.65,170.107,412.122,516.634,614.771,659.073"
          />
          <defs>
            <filter
              id="Adobe_OpacityMaskFilter_8_"
              filterUnits="userSpaceOnUse"
              x="251.266"
              y="260.832"
              width="407.807"
              height="398.241"
            >
              <feColorMatrix type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0" />
            </filter>
          </defs>
          <mask
            maskUnits="userSpaceOnUse"
            x="251.266"
            y="260.832"
            width="407.807"
            height="398.241"
            id="SVGID_4_"
          >
            <g style="filter: url(#Adobe_OpacityMaskFilter_8_)">
              <linearGradient
                id="SVGID_27_"
                gradientUnits="userSpaceOnUse"
                x1="-13641.251"
                y1="-8586.1064"
                x2="-13184.6797"
                y2="-7943.9741"
                gradientTransform="matrix(1 0 0 -1 13764.7637 -7659.7051)"
              >
                <stop offset="0" style="stop-color: #ffffff" />
                <stop offset="1" style="stop-color: #000000" />
              </linearGradient>
              <rect
                x="251.266"
                y="260.832"
                style="fill: url(#SVGID_27_)"
                width="407.807"
                height="398.241"
              />
            </g>
          </mask>
          <path
            style="mask: url(#SVGID_4_); fill-rule: evenodd; clip-rule: evenodd; fill: #cb0680"
            d="M624.402,659.073H501.207
          c-12.732,0-23.66-6.311-30.025-17.336L251.266,260.832c0,0,209.173,295.3,407.807,275.767v87.804
          C659.072,643.498,643.498,659.073,624.402,659.073"
          />
        </g>
      </g>
      <g ref="letterShadow" id="letterShadow">
        <use x="0" y="0" xlink:href="#letter" />
        <use x="0" y="0" xlink:href="#letter" />
        <use x="0" y="0" xlink:href="#letter" />
        <use x="0" y="0" xlink:href="#letter" />
        <use x="0" y="0" xlink:href="#letter" />
        <use x="0" y="0" xlink:href="#letter" />
      </g>
      <g ref="letter" id="letter">
        <g ref="letterK" id="letterK">
          <g id="kBlack">
            <path
              style="
                fill: none;
                stroke: #000000;
                stroke-width: 150;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-miterlimit: 10;
              "
              d="
              M860.488,542.036v-425"
            />
            <path
              style="
                fill: none;
                stroke: #000000;
                stroke-width: 150;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-miterlimit: 10;
              "
              d="
              M1129.011,117.036L894.698,325.79l234.313,216.247"
            />
          </g>
          <g id="kWhite">
            <path
              id="kWhite_0"
              style="
                fill: none;
                stroke: #ffffff;
                stroke-width: 50;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-miterlimit: 10;
              "
              d="
              M860.488,542.036v-425"
            />
            <path
              id="kWhite_1"
              style="
                fill: none;
                stroke: #ffffff;
                stroke-width: 50;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-miterlimit: 10;
              "
              d="
              M1129.011,117.036L894.698,325.79l234.313,216.247"
            />
          </g>
        </g>
        <g ref="letterS" id="letterS">
          <path
            id="sBlack_1_"
            style="
              fill: none;
              stroke: #000000;
              stroke-width: 150;
              stroke-linecap: round;
              stroke-linejoin: round;
            "
            d="
            M1500.403,161.468c-38.42-26.079-70.12-44.432-134.453-44.432c-64.333,0-133.401,52.657-133.401,113.361
            s48.973,86.507,121.063,102.885c79.177,17.987,159.055,19.944,159.055,100.883s-74.164,107.871-159.055,107.871
            c-45.856-0.367-97.242-20.586-134.379-45.892"
          />
          <path
            id="sWhite_1_"
            style="
              fill: none;
              stroke: #ffffff;
              stroke-width: 50;
              stroke-linecap: round;
              stroke-linejoin: round;
            "
            d="
            M1500.403,161.468c-38.42-26.079-70.12-44.432-134.453-44.432c-64.333,0-133.401,52.657-133.401,113.361
            s48.973,86.507,121.063,102.885c79.177,17.987,159.055,19.944,159.055,100.883s-74.164,107.871-159.055,107.871
            c-45.856-0.367-97.242-20.586-134.379-45.892"
          />
        </g>
        <g ref="letterW" id="letterW">
          <path
            id="wBlack_1_"
            style="
              fill: none;
              stroke: #000000;
              stroke-width: 150;
              stroke-linecap: round;
              stroke-linejoin: round;
            "
            d="
            M1614.879,117.037l140.282,425l155.049-425l155.049,425l140.282-425"
          />
          <path
            id="wWhite_1_"
            style="
              fill: none;
              stroke: #ffffff;
              stroke-width: 50;
              stroke-linecap: round;
              stroke-linejoin: round;
            "
            d="
            M1614.879,117.037l140.282,425l155.049-425l155.049,425l140.282-425"
          />
        </g>
        <g ref="letterU" id="letterU">
          <path
            id="uBlack"
            style="
              fill: none;
              stroke: #000000;
              stroke-width: 150;
              stroke-linecap: round;
              stroke-linejoin: round;
            "
            d="
            M2516.412,117.037v275.877c0,82.358,66.765,149.123,149.123,149.123s149.123-66.765,149.123-149.123V117.037"
          />
          <path
            id="uWhite"
            style="
              fill: none;
              stroke: #ffffff;
              stroke-width: 50;
              stroke-linecap: round;
              stroke-linejoin: round;
            "
            d="
            M2516.412,117.037v275.877c0,82.358,66.765,149.123,149.123,149.123s149.123-66.765,149.123-149.123V117.037"
          />
        </g>
        <g ref="letterX" id="letterX">
          <g id="xBlack" transform="translate(0.25 0.25)">
            <path
              style="
                fill: none;
                stroke: #000000;
                stroke-width: 150;
                stroke-linecap: round;
                stroke-linejoin: round;
              "
              d="M2953.969,116.787
              l303.572,425"
            />
            <path
              style="
                fill: none;
                stroke: #000000;
                stroke-width: 150;
                stroke-linecap: round;
                stroke-linejoin: round;
              "
              d="M2953.969,541.786
              l303.572-425"
            />
          </g>
          <g id="xWhite" transform="translate(0.25 0.25)">
            <path
              style="
                fill: none;
                stroke: #ffffff;
                stroke-width: 50;
                stroke-linecap: round;
                stroke-linejoin: round;
              "
              d="M2953.969,116.787
              l303.572,425"
            />
            <path
              style="
                fill: none;
                stroke: #ffffff;
                stroke-width: 50;
                stroke-linecap: round;
                stroke-linejoin: round;
              "
              d="M2953.969,541.786
              l303.572-425"
            />
          </g>
        </g>
      </g>
    </svg>
  </div>
</template>

<script setup>
import { onMounted, nextTick, ref } from 'vue';
import { gsap } from 'gsap';
import DrawSVGPlugin from '../../plugin/DrawSVGPlugin.min.js';

const logoAnimation = ref(null);
const logo = ref(null);
const svgElement = ref(null);
const upperLeftCorner = ref(null);
const bottomRightCorner = ref(null);
const rightSide = ref(null);
const letter = ref(null);
const letterK = ref(null);
const letterS = ref(null);
const letterW = ref(null);
const letterU = ref(null);
const letterX = ref(null);
const letterShadow = ref(null);

const emit = defineEmits(['animationStart', 'animationComplete']);

onMounted(() => {
  const tl = gsap.timeline({
    repeat: 0,
    repeatDelay: 1,
    onStart: () => emit('animationStart'),
    onComplete: () => emit('animationComplete')
  });

  tl.fromTo(
    upperLeftCorner.value,
    {
      x: 4000
      // transformOrigin: "center center"
    },
    {
      x: 1429,
      ease: 'power3.out',
      duration: 1
    },
    0
  );
  tl.from(
    upperLeftCorner.value,
    {
      autoAlpha: 0,
      // scaleX: 50,
      // scaleY: 5,
      ease: 'power3.out',
      duration: 0.7
    },
    0
  );

  tl.fromTo(
    bottomRightCorner.value,
    {
      x: 4000
    },
    {
      x: 1429,
      ease: 'power3.out',
      duration: 1
    },
    0.25
  );
  tl.from(
    bottomRightCorner.value,
    {
      autoAlpha: 0,
      // scaleX: 50,
      // scaleY: 5,
      ease: 'power3.out',
      duration: 0.7
    },
    0.25
  );

  tl.fromTo(
    rightSide.value,
    {
      x: 4000
    },
    {
      x: 1429,
      ease: 'power3.out',
      duration: 1
    },
    0.5
  );
  tl.from(
    rightSide.value,
    {
      autoAlpha: 0,
      // scaleX: 50,
      // scaleY: 5,
      ease: 'power3.out',
      duration: 0.7
    },
    0.5
  );

  tl.fromTo(
    svgElement.value,
    { autoAlpha: 0 },
    { autoAlpha: 1, duration: 0.25, ease: 'power2.out' },
    0
  );
  tl.fromTo(logo.value, { x: 0 }, { x: -1429, duration: 1, ease: 'power2.out' }, 0.65);
  tl.fromTo(letterK.value, { x: 2000 }, { x: 0, duration: 1, ease: 'power2.out' }, 0.75);
  tl.fromTo(letterS.value, { x: 2000 }, { x: 0, duration: 1, ease: 'power2.out' }, 0.85);
  tl.fromTo(letterW.value, { x: 2000 }, { x: 0, duration: 1, ease: 'power2.out' }, 0.95);
  tl.fromTo(letterU.value, { x: 2000 }, { x: 0, duration: 1, ease: 'power2.out' }, 1.05);
  tl.fromTo(letterX.value, { x: 2000 }, { x: 0, duration: 1, ease: 'power2.out' }, 1.15);

  // 描边动画
  gsap.registerPlugin(DrawSVGPlugin);
  tl.fromTo(
    '#letterK path',
    { drawSVG: 0 },
    { drawSVG: '100%', duration: 1, ease: 'power2.out' },
    1
  );
  tl.fromTo(
    '#letterS path',
    { drawSVG: 0 },
    { drawSVG: '100%', duration: 1, ease: 'power2.out' },
    1.1
  );
  tl.fromTo(
    '#letterW path',
    { drawSVG: 0 },
    { drawSVG: '100%', duration: 1, ease: 'power2.out' },
    1.2
  );
  tl.fromTo(
    '#letterU path',
    { drawSVG: 0 },
    { drawSVG: '100%', duration: 1, ease: 'power2.out' },
    1.3
  );
  tl.fromTo(
    '#letterX path',
    { drawSVG: 0 },
    { drawSVG: '100%', duration: 1, ease: 'power2.out' },
    1.4
  );

  const uses = gsap.utils.toArray('#letterShadow use');
  tl.fromTo(
    uses,
    { x: 0 },
    { x: (index) => (uses.length - index) * 10, duration: 1, stagger: 0, ease: 'power2.out' },
    1.4
  );

  tl.to(logoAnimation.value, { autoAlpha: 0, duration: 1, ease: 'power2.out' }, 2.5);
  // tl.pause();
  // tl.timeScale(0.25)
  // tl.seek(2);
});
</script>

<style scoped></style>
