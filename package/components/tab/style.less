@import '../../style/variable.css';
@import '../../style/general.less';

// 类选择器方案
.k-tabs {
  --icon-size: 1rem;
  --icon-skew: 0.625rem;
  --icon-Space: 2rem;
  --more-width: 2rem;
  --left-layout-width: 2rem;
  --plane-max-width: 4rem;
}
.k-tabs {
  --icon-size: 1rem;
  --icon-skew: 0.625rem;
  --icon-Space: 2rem;

  position: relative;
  .el-tabs__nav-next,
  .el-tabs__nav-prev {
    display: none;
  }
  .el-tabs__item {
    max-width: 10rem;

    span {
      padding-left: 1rem;
      padding-right: 1rem;
      display: inline-block;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .k-tab-item-closeable {
      padding-right: 0;
    }

    .k-tab-item-closeable + .el-icon {
      margin-right: 0.5rem;
    }

    &:hover:not(.is-disabled) {
      color: var(--k-blue-400);
    }
  }
  .el-tabs__item.is-left {
    width: calc(var(--plane-max-width) + 2rem);
  }

  .el-tabs__item.is-closable {
    position: relative;

    .el-icon.is-icon-close {
      width: var(--icon-size);
      height: var(--icon-size);
      &:hover {
        background: unset;
        color: unset;
        border-radius: unset;

        background: var(--k-blue-100);
        border-radius: var(--k-rounded-full);
      }
    }
  }
  .el-tabs__nav-wrap {
    &.is-top, &.is-bottom {
      padding-right: var(--more-width);
    }
    &.is-left, &.is-right {
      padding-top: 2.5rem !important;
      padding-bottom: 0 !important;
    }
  }
  .el-tabs__content {
    position: unset;
  }
}
.k-tabs-more {
  display: flex;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
  position: absolute;
  width: var(--more-width);
  height: 2.5rem;
  background-color: #fff;
  z-index: 2;
  cursor: pointer;

  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: calc(var(--more-width) / 2 * -1);
    width: calc(var(--more-width) / 2);
    height: 100%;
    background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.05));
    pointer-events: none;
  }
  &.tab-left-layout {
    top: 0;
    left: 0;
    width: calc(var(--plane-max-width) + 2rem);

    border-bottom: unset;

    border-right: 2px solid #e4e7ed;

    &::after {
      background: linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.05));

      left: 0;
      height: calc(var(--more-width) / 2);
      width: calc(var(--plane-max-width) + 2rem);
      top: 2.5rem;
    }
  }
  &.tab-right-layout {
    top: 0;
    right: 0;
    width: calc(var(--plane-max-width) + 2rem);
    border-bottom: unset;
  
    &::after {
      background: linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.05));
  
      right: 0;
      height: calc(var(--more-width) / 2);
      width: calc(var(--plane-max-width) + 2rem);
      top: 2.5rem;
    }
  }
  &.tab-top-layout {
    top: 0;
    right: var(--more-width);
  }
  &.tab-bottom-layout {
    bottom: 0;
    right: var(--more-width);
  }
  .k-dropdown {
    width: 100%;
    height: 100%;
    .el-tooltip__trigger {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
  }
}
